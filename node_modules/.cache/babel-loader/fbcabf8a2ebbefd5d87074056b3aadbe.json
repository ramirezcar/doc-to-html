{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise, INTERNAL) {\n  var util = require(\"./util\");\n\n  var errorObj = util.errorObj;\n  var isObject = util.isObject;\n\n  function tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n      if (obj instanceof Promise) return obj;\n      var then = getThen(obj);\n\n      if (then === errorObj) {\n        if (context) context._pushContext();\n        var ret = Promise.reject(then.e);\n        if (context) context._popContext();\n        return ret;\n      } else if (typeof then === \"function\") {\n        if (isAnyBluebirdPromise(obj)) {\n          var ret = new Promise(INTERNAL);\n\n          obj._then(ret._fulfill, ret._reject, undefined, ret, null);\n\n          return ret;\n        }\n\n        return doThenable(obj, then, context);\n      }\n    }\n\n    return obj;\n  }\n\n  function doGetThen(obj) {\n    return obj.then;\n  }\n\n  function getThen(obj) {\n    try {\n      return doGetThen(obj);\n    } catch (e) {\n      errorObj.e = e;\n      return errorObj;\n    }\n  }\n\n  var hasProp = {}.hasOwnProperty;\n\n  function isAnyBluebirdPromise(obj) {\n    try {\n      return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n\n    promise._captureStackTrace();\n\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n      promise._rejectCallback(result.e, true, true);\n\n      promise = null;\n    }\n\n    function resolve(value) {\n      if (!promise) return;\n\n      promise._resolveCallback(value);\n\n      promise = null;\n    }\n\n    function reject(reason) {\n      if (!promise) return;\n\n      promise._rejectCallback(reason, synchronous, true);\n\n      promise = null;\n    }\n\n    return ret;\n  }\n\n  return tryConvertToPromise;\n};","map":{"version":3,"sources":["C:/Users/Carlos/Desktop/Coding/doc-to-html/node_modules/bluebird/js/release/thenables.js"],"names":["module","exports","Promise","INTERNAL","util","require","errorObj","isObject","tryConvertToPromise","obj","context","then","getThen","_pushContext","ret","reject","e","_popContext","isAnyBluebirdPromise","_then","_fulfill","_reject","undefined","doThenable","doGetThen","hasProp","hasOwnProperty","call","x","promise","_captureStackTrace","synchronous","result","tryCatch","resolve","_rejectCallback","value","_resolveCallback","reason"],"mappings":"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","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n"]},"metadata":{},"sourceType":"script"}