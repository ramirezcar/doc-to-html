{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise, INTERNAL, tryConvertToPromise, apiRejection) {\n  var util = require(\"./util\");\n\n  var raceLater = function raceLater(promise) {\n    return promise.then(function (array) {\n      return race(array, promise);\n    });\n  };\n\n  function race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n      return raceLater(maybePromise);\n    } else {\n      promises = util.asArray(promises);\n      if (promises === null) return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n\n    if (parent !== undefined) {\n      ret._propagateFrom(parent, 3);\n    }\n\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n\n    for (var i = 0, len = promises.length; i < len; ++i) {\n      var val = promises[i];\n\n      if (val === undefined && !(i in promises)) {\n        continue;\n      }\n\n      Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n\n    return ret;\n  }\n\n  Promise.race = function (promises) {\n    return race(promises, undefined);\n  };\n\n  Promise.prototype.race = function () {\n    return race(this, undefined);\n  };\n};","map":{"version":3,"sources":["C:/Users/Carlos/Desktop/Coding/doc-to-html/node_modules/bluebird/js/release/race.js"],"names":["module","exports","Promise","INTERNAL","tryConvertToPromise","apiRejection","util","require","raceLater","promise","then","array","race","promises","parent","maybePromise","asArray","classString","ret","undefined","_propagateFrom","fulfill","_fulfill","reject","_reject","i","len","length","val","cast","_then","prototype"],"mappings":"AAAA;;AACAA,MAAM,CAACC,OAAP,GAAiB,UACbC,OADa,EACJC,QADI,EACMC,mBADN,EAC2BC,YAD3B,EACyC;AAC1D,MAAIC,IAAI,GAAGC,OAAO,CAAC,QAAD,CAAlB;;AAEA,MAAIC,SAAS,GAAG,SAAZA,SAAY,CAAUC,OAAV,EAAmB;AAC/B,WAAOA,OAAO,CAACC,IAAR,CAAa,UAASC,KAAT,EAAgB;AAChC,aAAOC,IAAI,CAACD,KAAD,EAAQF,OAAR,CAAX;AACH,KAFM,CAAP;AAGH,GAJD;;AAMA,WAASG,IAAT,CAAcC,QAAd,EAAwBC,MAAxB,EAAgC;AAC5B,QAAIC,YAAY,GAAGX,mBAAmB,CAACS,QAAD,CAAtC;;AAEA,QAAIE,YAAY,YAAYb,OAA5B,EAAqC;AACjC,aAAOM,SAAS,CAACO,YAAD,CAAhB;AACH,KAFD,MAEO;AACHF,MAAAA,QAAQ,GAAGP,IAAI,CAACU,OAAL,CAAaH,QAAb,CAAX;AACA,UAAIA,QAAQ,KAAK,IAAjB,EACI,OAAOR,YAAY,CAAC,sDAAsDC,IAAI,CAACW,WAAL,CAAiBJ,QAAjB,CAAvD,CAAnB;AACP;;AAED,QAAIK,GAAG,GAAG,IAAIhB,OAAJ,CAAYC,QAAZ,CAAV;;AACA,QAAIW,MAAM,KAAKK,SAAf,EAA0B;AACtBD,MAAAA,GAAG,CAACE,cAAJ,CAAmBN,MAAnB,EAA2B,CAA3B;AACH;;AACD,QAAIO,OAAO,GAAGH,GAAG,CAACI,QAAlB;AACA,QAAIC,MAAM,GAAGL,GAAG,CAACM,OAAjB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGb,QAAQ,CAACc,MAA/B,EAAuCF,CAAC,GAAGC,GAA3C,EAAgD,EAAED,CAAlD,EAAqD;AACjD,UAAIG,GAAG,GAAGf,QAAQ,CAACY,CAAD,CAAlB;;AAEA,UAAIG,GAAG,KAAKT,SAAR,IAAqB,EAAEM,CAAC,IAAIZ,QAAP,CAAzB,EAA2C;AACvC;AACH;;AAEDX,MAAAA,OAAO,CAAC2B,IAAR,CAAaD,GAAb,EAAkBE,KAAlB,CAAwBT,OAAxB,EAAiCE,MAAjC,EAAyCJ,SAAzC,EAAoDD,GAApD,EAAyD,IAAzD;AACH;;AACD,WAAOA,GAAP;AACH;;AAEDhB,EAAAA,OAAO,CAACU,IAAR,GAAe,UAAUC,QAAV,EAAoB;AAC/B,WAAOD,IAAI,CAACC,QAAD,EAAWM,SAAX,CAAX;AACH,GAFD;;AAIAjB,EAAAA,OAAO,CAAC6B,SAAR,CAAkBnB,IAAlB,GAAyB,YAAY;AACjC,WAAOA,IAAI,CAAC,IAAD,EAAOO,SAAP,CAAX;AACH,GAFD;AAIC,CA/CD","sourcesContent":["\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n"]},"metadata":{},"sourceType":"script"}