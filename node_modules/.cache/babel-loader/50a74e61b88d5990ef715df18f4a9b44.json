{"ast":null,"code":"var documents = require(\"../documents\");\n\nvar Result = require(\"../results\").Result;\n\nfunction createCommentsReader(bodyReader) {\n  function readCommentsXml(element) {\n    return Result.combine(element.getElementsByTagName(\"w:comment\").map(readCommentElement));\n  }\n\n  function readCommentElement(element) {\n    var id = element.attributes[\"w:id\"];\n\n    function readOptionalAttribute(name) {\n      return (element.attributes[name] || \"\").trim() || null;\n    }\n\n    return bodyReader.readXmlElements(element.children).map(function (body) {\n      return documents.comment({\n        commentId: id,\n        body: body,\n        authorName: readOptionalAttribute(\"w:author\"),\n        authorInitials: readOptionalAttribute(\"w:initials\")\n      });\n    });\n  }\n\n  return readCommentsXml;\n}\n\nexports.createCommentsReader = createCommentsReader;","map":{"version":3,"sources":["C:/Users/Carlos/Desktop/Coding/doc-to-html/node_modules/mammoth/lib/docx/comments-reader.js"],"names":["documents","require","Result","createCommentsReader","bodyReader","readCommentsXml","element","combine","getElementsByTagName","map","readCommentElement","id","attributes","readOptionalAttribute","name","trim","readXmlElements","children","body","comment","commentId","authorName","authorInitials","exports"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAvB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,YAAD,CAAP,CAAsBC,MAAnC;;AAEA,SAASC,oBAAT,CAA8BC,UAA9B,EAA0C;AACtC,WAASC,eAAT,CAAyBC,OAAzB,EAAkC;AAC9B,WAAOJ,MAAM,CAACK,OAAP,CAAeD,OAAO,CAACE,oBAAR,CAA6B,WAA7B,EACjBC,GADiB,CACbC,kBADa,CAAf,CAAP;AAEH;;AAED,WAASA,kBAAT,CAA4BJ,OAA5B,EAAqC;AACjC,QAAIK,EAAE,GAAGL,OAAO,CAACM,UAAR,CAAmB,MAAnB,CAAT;;AAEA,aAASC,qBAAT,CAA+BC,IAA/B,EAAqC;AACjC,aAAO,CAACR,OAAO,CAACM,UAAR,CAAmBE,IAAnB,KAA4B,EAA7B,EAAiCC,IAAjC,MAA2C,IAAlD;AACH;;AAED,WAAOX,UAAU,CAACY,eAAX,CAA2BV,OAAO,CAACW,QAAnC,EACFR,GADE,CACE,UAASS,IAAT,EAAe;AAChB,aAAOlB,SAAS,CAACmB,OAAV,CAAkB;AACrBC,QAAAA,SAAS,EAAET,EADU;AAErBO,QAAAA,IAAI,EAAEA,IAFe;AAGrBG,QAAAA,UAAU,EAAER,qBAAqB,CAAC,UAAD,CAHZ;AAIrBS,QAAAA,cAAc,EAAET,qBAAqB,CAAC,YAAD;AAJhB,OAAlB,CAAP;AAMH,KARE,CAAP;AASH;;AAED,SAAOR,eAAP;AACH;;AAEDkB,OAAO,CAACpB,oBAAR,GAA+BA,oBAA/B","sourcesContent":["var documents = require(\"../documents\");\nvar Result = require(\"../results\").Result;\n\nfunction createCommentsReader(bodyReader) {\n    function readCommentsXml(element) {\n        return Result.combine(element.getElementsByTagName(\"w:comment\")\n            .map(readCommentElement));\n    }\n\n    function readCommentElement(element) {\n        var id = element.attributes[\"w:id\"];\n\n        function readOptionalAttribute(name) {\n            return (element.attributes[name] || \"\").trim() || null;\n        }\n\n        return bodyReader.readXmlElements(element.children)\n            .map(function(body) {\n                return documents.comment({\n                    commentId: id,\n                    body: body,\n                    authorName: readOptionalAttribute(\"w:author\"),\n                    authorInitials: readOptionalAttribute(\"w:initials\")\n                });\n            });\n    }\n    \n    return readCommentsXml;\n}\n\nexports.createCommentsReader = createCommentsReader;\n"]},"metadata":{},"sourceType":"script"}