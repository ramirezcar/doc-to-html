{"ast":null,"code":"var util = require(\"util\");\n\nvar StringSource = module.exports = function (string, description) {\n  var self = {\n    asString: function asString() {\n      return string;\n    },\n    range: function range(startIndex, endIndex) {\n      return new StringSourceRange(string, description, startIndex, endIndex);\n    }\n  };\n  return self;\n};\n\nvar StringSourceRange = function StringSourceRange(string, description, startIndex, endIndex) {\n  this._string = string;\n  this._description = description;\n  this._startIndex = startIndex;\n  this._endIndex = endIndex;\n};\n\nStringSourceRange.prototype.to = function (otherRange) {\n  // TODO: Assert that tokens are the same across both iterators\n  return new StringSourceRange(this._string, this._description, this._startIndex, otherRange._endIndex);\n};\n\nStringSourceRange.prototype.describe = function () {\n  var position = this._position();\n\n  var description = this._description ? this._description + \"\\n\" : \"\";\n  return util.format(\"%sLine number: %s\\nCharacter number: %s\", description, position.lineNumber, position.characterNumber);\n};\n\nStringSourceRange.prototype.lineNumber = function () {\n  return this._position().lineNumber;\n};\n\nStringSourceRange.prototype.characterNumber = function () {\n  return this._position().characterNumber;\n};\n\nStringSourceRange.prototype._position = function () {\n  var self = this;\n  var index = 0;\n\n  var nextNewLine = function nextNewLine() {\n    return self._string.indexOf(\"\\n\", index);\n  };\n\n  var lineNumber = 1;\n\n  while (nextNewLine() !== -1 && nextNewLine() < this._startIndex) {\n    index = nextNewLine() + 1;\n    lineNumber += 1;\n  }\n\n  var characterNumber = this._startIndex - index + 1;\n  return {\n    lineNumber: lineNumber,\n    characterNumber: characterNumber\n  };\n};","map":{"version":3,"sources":["C:/Users/Carlos/Desktop/Coding/doc-to-html/node_modules/lop/lib/StringSource.js"],"names":["util","require","StringSource","module","exports","string","description","self","asString","range","startIndex","endIndex","StringSourceRange","_string","_description","_startIndex","_endIndex","prototype","to","otherRange","describe","position","_position","format","lineNumber","characterNumber","index","nextNewLine","indexOf"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AAEA,IAAIC,YAAY,GAAGC,MAAM,CAACC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,WAAjB,EAA8B;AAC9D,MAAIC,IAAI,GAAG;AACPC,IAAAA,QAAQ,EAAE,oBAAW;AACjB,aAAOH,MAAP;AACH,KAHM;AAIPI,IAAAA,KAAK,EAAE,eAASC,UAAT,EAAqBC,QAArB,EAA+B;AAClC,aAAO,IAAIC,iBAAJ,CAAsBP,MAAtB,EAA8BC,WAA9B,EAA2CI,UAA3C,EAAuDC,QAAvD,CAAP;AACH;AANM,GAAX;AAQA,SAAOJ,IAAP;AACH,CAVD;;AAYA,IAAIK,iBAAiB,GAAG,SAApBA,iBAAoB,CAASP,MAAT,EAAiBC,WAAjB,EAA8BI,UAA9B,EAA0CC,QAA1C,EAAoD;AACxE,OAAKE,OAAL,GAAeR,MAAf;AACA,OAAKS,YAAL,GAAoBR,WAApB;AACA,OAAKS,WAAL,GAAmBL,UAAnB;AACA,OAAKM,SAAL,GAAiBL,QAAjB;AACH,CALD;;AAOAC,iBAAiB,CAACK,SAAlB,CAA4BC,EAA5B,GAAiC,UAASC,UAAT,EAAqB;AAClD;AACA,SAAO,IAAIP,iBAAJ,CAAsB,KAAKC,OAA3B,EAAoC,KAAKC,YAAzC,EAAuD,KAAKC,WAA5D,EAAyEI,UAAU,CAACH,SAApF,CAAP;AACH,CAHD;;AAKAJ,iBAAiB,CAACK,SAAlB,CAA4BG,QAA5B,GAAuC,YAAW;AAC9C,MAAIC,QAAQ,GAAG,KAAKC,SAAL,EAAf;;AACA,MAAIhB,WAAW,GAAG,KAAKQ,YAAL,GAAoB,KAAKA,YAAL,GAAoB,IAAxC,GAA+C,EAAjE;AACA,SAAOd,IAAI,CAACuB,MAAL,CAAY,yCAAZ,EACHjB,WADG,EACUe,QAAQ,CAACG,UADnB,EAC+BH,QAAQ,CAACI,eADxC,CAAP;AAEH,CALD;;AAOAb,iBAAiB,CAACK,SAAlB,CAA4BO,UAA5B,GAAyC,YAAW;AAChD,SAAO,KAAKF,SAAL,GAAiBE,UAAxB;AACH,CAFD;;AAIAZ,iBAAiB,CAACK,SAAlB,CAA4BQ,eAA5B,GAA8C,YAAW;AACrD,SAAO,KAAKH,SAAL,GAAiBG,eAAxB;AACH,CAFD;;AAIAb,iBAAiB,CAACK,SAAlB,CAA4BK,SAA5B,GAAwC,YAAW;AAC/C,MAAIf,IAAI,GAAG,IAAX;AACA,MAAImB,KAAK,GAAG,CAAZ;;AACA,MAAIC,WAAW,GAAG,SAAdA,WAAc,GAAW;AACzB,WAAOpB,IAAI,CAACM,OAAL,CAAae,OAAb,CAAqB,IAArB,EAA2BF,KAA3B,CAAP;AACH,GAFD;;AAIA,MAAIF,UAAU,GAAG,CAAjB;;AACA,SAAOG,WAAW,OAAO,CAAC,CAAnB,IAAwBA,WAAW,KAAK,KAAKZ,WAApD,EAAiE;AAC7DW,IAAAA,KAAK,GAAGC,WAAW,KAAK,CAAxB;AACAH,IAAAA,UAAU,IAAI,CAAd;AACH;;AACD,MAAIC,eAAe,GAAG,KAAKV,WAAL,GAAmBW,KAAnB,GAA2B,CAAjD;AACA,SAAO;AAACF,IAAAA,UAAU,EAAEA,UAAb;AAAyBC,IAAAA,eAAe,EAAEA;AAA1C,GAAP;AACH,CAdD","sourcesContent":["var util = require(\"util\");\n\nvar StringSource = module.exports = function(string, description) {\n    var self = {\n        asString: function() {\n            return string;\n        },\n        range: function(startIndex, endIndex) {\n            return new StringSourceRange(string, description, startIndex, endIndex);\n        }\n    };\n    return self;\n};\n\nvar StringSourceRange = function(string, description, startIndex, endIndex) {\n    this._string = string;\n    this._description = description;\n    this._startIndex = startIndex;\n    this._endIndex = endIndex;\n};\n\nStringSourceRange.prototype.to = function(otherRange) {\n    // TODO: Assert that tokens are the same across both iterators\n    return new StringSourceRange(this._string, this._description, this._startIndex, otherRange._endIndex);\n};\n\nStringSourceRange.prototype.describe = function() {\n    var position = this._position();\n    var description = this._description ? this._description + \"\\n\" : \"\";\n    return util.format(\"%sLine number: %s\\nCharacter number: %s\",\n        description, position.lineNumber, position.characterNumber);\n};\n\nStringSourceRange.prototype.lineNumber = function() {\n    return this._position().lineNumber;\n};\n\nStringSourceRange.prototype.characterNumber = function() {\n    return this._position().characterNumber;\n};\n\nStringSourceRange.prototype._position = function() {\n    var self = this;\n    var index = 0;\n    var nextNewLine = function() {\n        return self._string.indexOf(\"\\n\", index);\n    };\n    \n    var lineNumber = 1;\n    while (nextNewLine() !== -1 && nextNewLine() < this._startIndex) {\n        index = nextNewLine() + 1;\n        lineNumber += 1;\n    }\n    var characterNumber = this._startIndex - index + 1;\n    return {lineNumber: lineNumber, characterNumber: characterNumber};\n};\n"]},"metadata":{},"sourceType":"script"}