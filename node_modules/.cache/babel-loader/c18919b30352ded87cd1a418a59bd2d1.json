{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise) {\n  var longStackTraces = false;\n  var contextStack = [];\n\n  Promise.prototype._promiseCreated = function () {};\n\n  Promise.prototype._pushContext = function () {};\n\n  Promise.prototype._popContext = function () {\n    return null;\n  };\n\n  Promise._peekContext = Promise.prototype._peekContext = function () {};\n\n  function Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n  }\n\n  Context.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n      this._trace._promiseCreated = null;\n      contextStack.push(this._trace);\n    }\n  };\n\n  Context.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n      var trace = contextStack.pop();\n      var ret = trace._promiseCreated;\n      trace._promiseCreated = null;\n      return ret;\n    }\n\n    return null;\n  };\n\n  function createContext() {\n    if (longStackTraces) return new Context();\n  }\n\n  function peekContext() {\n    var lastIndex = contextStack.length - 1;\n\n    if (lastIndex >= 0) {\n      return contextStack[lastIndex];\n    }\n\n    return undefined;\n  }\n\n  Context.CapturedTrace = null;\n  Context.create = createContext;\n\n  Context.deactivateLongStackTraces = function () {};\n\n  Context.activateLongStackTraces = function () {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n\n    Context.deactivateLongStackTraces = function () {\n      Promise.prototype._pushContext = Promise_pushContext;\n      Promise.prototype._popContext = Promise_popContext;\n      Promise._peekContext = Promise_PeekContext;\n      Promise.prototype._peekContext = Promise_peekContext;\n      Promise.prototype._promiseCreated = Promise_promiseCreated;\n      longStackTraces = false;\n    };\n\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n\n    Promise.prototype._promiseCreated = function () {\n      var ctx = this._peekContext();\n\n      if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n  };\n\n  return Context;\n};","map":{"version":3,"sources":["C:/Users/Carlos/Desktop/Coding/doc-to-html/node_modules/bluebird/js/release/context.js"],"names":["module","exports","Promise","longStackTraces","contextStack","prototype","_promiseCreated","_pushContext","_popContext","_peekContext","Context","_trace","CapturedTrace","peekContext","undefined","push","trace","pop","ret","createContext","lastIndex","length","create","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx"],"mappings":"AAAA;;AACAA,MAAM,CAACC,OAAP,GAAiB,UAASC,OAAT,EAAkB;AACnC,MAAIC,eAAe,GAAG,KAAtB;AACA,MAAIC,YAAY,GAAG,EAAnB;;AAEAF,EAAAA,OAAO,CAACG,SAAR,CAAkBC,eAAlB,GAAoC,YAAW,CAAE,CAAjD;;AACAJ,EAAAA,OAAO,CAACG,SAAR,CAAkBE,YAAlB,GAAiC,YAAW,CAAE,CAA9C;;AACAL,EAAAA,OAAO,CAACG,SAAR,CAAkBG,WAAlB,GAAgC,YAAW;AAAC,WAAO,IAAP;AAAa,GAAzD;;AACAN,EAAAA,OAAO,CAACO,YAAR,GAAuBP,OAAO,CAACG,SAAR,CAAkBI,YAAlB,GAAiC,YAAW,CAAE,CAArE;;AAEA,WAASC,OAAT,GAAmB;AACf,SAAKC,MAAL,GAAc,IAAID,OAAO,CAACE,aAAZ,CAA0BC,WAAW,EAArC,CAAd;AACH;;AACDH,EAAAA,OAAO,CAACL,SAAR,CAAkBE,YAAlB,GAAiC,YAAY;AACzC,QAAI,KAAKI,MAAL,KAAgBG,SAApB,EAA+B;AAC3B,WAAKH,MAAL,CAAYL,eAAZ,GAA8B,IAA9B;AACAF,MAAAA,YAAY,CAACW,IAAb,CAAkB,KAAKJ,MAAvB;AACH;AACJ,GALD;;AAOAD,EAAAA,OAAO,CAACL,SAAR,CAAkBG,WAAlB,GAAgC,YAAY;AACxC,QAAI,KAAKG,MAAL,KAAgBG,SAApB,EAA+B;AAC3B,UAAIE,KAAK,GAAGZ,YAAY,CAACa,GAAb,EAAZ;AACA,UAAIC,GAAG,GAAGF,KAAK,CAACV,eAAhB;AACAU,MAAAA,KAAK,CAACV,eAAN,GAAwB,IAAxB;AACA,aAAOY,GAAP;AACH;;AACD,WAAO,IAAP;AACH,GARD;;AAUA,WAASC,aAAT,GAAyB;AACrB,QAAIhB,eAAJ,EAAqB,OAAO,IAAIO,OAAJ,EAAP;AACxB;;AAED,WAASG,WAAT,GAAuB;AACnB,QAAIO,SAAS,GAAGhB,YAAY,CAACiB,MAAb,GAAsB,CAAtC;;AACA,QAAID,SAAS,IAAI,CAAjB,EAAoB;AAChB,aAAOhB,YAAY,CAACgB,SAAD,CAAnB;AACH;;AACD,WAAON,SAAP;AACH;;AACDJ,EAAAA,OAAO,CAACE,aAAR,GAAwB,IAAxB;AACAF,EAAAA,OAAO,CAACY,MAAR,GAAiBH,aAAjB;;AACAT,EAAAA,OAAO,CAACa,yBAAR,GAAoC,YAAW,CAAE,CAAjD;;AACAb,EAAAA,OAAO,CAACc,uBAAR,GAAkC,YAAW;AACzC,QAAIC,mBAAmB,GAAGvB,OAAO,CAACG,SAAR,CAAkBE,YAA5C;AACA,QAAImB,kBAAkB,GAAGxB,OAAO,CAACG,SAAR,CAAkBG,WAA3C;AACA,QAAImB,mBAAmB,GAAGzB,OAAO,CAACO,YAAlC;AACA,QAAImB,mBAAmB,GAAG1B,OAAO,CAACG,SAAR,CAAkBI,YAA5C;AACA,QAAIoB,sBAAsB,GAAG3B,OAAO,CAACG,SAAR,CAAkBC,eAA/C;;AACAI,IAAAA,OAAO,CAACa,yBAAR,GAAoC,YAAW;AAC3CrB,MAAAA,OAAO,CAACG,SAAR,CAAkBE,YAAlB,GAAiCkB,mBAAjC;AACAvB,MAAAA,OAAO,CAACG,SAAR,CAAkBG,WAAlB,GAAgCkB,kBAAhC;AACAxB,MAAAA,OAAO,CAACO,YAAR,GAAuBkB,mBAAvB;AACAzB,MAAAA,OAAO,CAACG,SAAR,CAAkBI,YAAlB,GAAiCmB,mBAAjC;AACA1B,MAAAA,OAAO,CAACG,SAAR,CAAkBC,eAAlB,GAAoCuB,sBAApC;AACA1B,MAAAA,eAAe,GAAG,KAAlB;AACH,KAPD;;AAQAA,IAAAA,eAAe,GAAG,IAAlB;AACAD,IAAAA,OAAO,CAACG,SAAR,CAAkBE,YAAlB,GAAiCG,OAAO,CAACL,SAAR,CAAkBE,YAAnD;AACAL,IAAAA,OAAO,CAACG,SAAR,CAAkBG,WAAlB,GAAgCE,OAAO,CAACL,SAAR,CAAkBG,WAAlD;AACAN,IAAAA,OAAO,CAACO,YAAR,GAAuBP,OAAO,CAACG,SAAR,CAAkBI,YAAlB,GAAiCI,WAAxD;;AACAX,IAAAA,OAAO,CAACG,SAAR,CAAkBC,eAAlB,GAAoC,YAAW;AAC3C,UAAIwB,GAAG,GAAG,KAAKrB,YAAL,EAAV;;AACA,UAAIqB,GAAG,IAAIA,GAAG,CAACxB,eAAJ,IAAuB,IAAlC,EAAwCwB,GAAG,CAACxB,eAAJ,GAAsB,IAAtB;AAC3C,KAHD;AAIH,GAtBD;;AAuBA,SAAOI,OAAP;AACC,CAnED","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n"]},"metadata":{},"sourceType":"script"}