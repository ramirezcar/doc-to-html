{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise, PromiseArray, tryConvertToPromise, apiRejection) {\n  var util = require(\"./util\");\n\n  var isObject = util.isObject;\n\n  var es5 = require(\"./es5\");\n\n  var Es6Map;\n  if (typeof Map === \"function\") Es6Map = Map;\n\n  var mapToEntries = function () {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n      this[index] = value;\n      this[index + size] = key;\n      index++;\n    }\n\n    return function mapToEntries(map) {\n      size = map.size;\n      index = 0;\n      var ret = new Array(map.size * 2);\n      map.forEach(extractEntry, ret);\n      return ret;\n    };\n  }();\n\n  var entriesToMap = function entriesToMap(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n\n    for (var i = 0; i < length; ++i) {\n      var key = entries[length + i];\n      var value = entries[i];\n      ret.set(key, value);\n    }\n\n    return ret;\n  };\n\n  function PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n      entries = mapToEntries(obj);\n      isMap = true;\n    } else {\n      var keys = es5.keys(obj);\n      var len = keys.length;\n      entries = new Array(len * 2);\n\n      for (var i = 0; i < len; ++i) {\n        var key = keys[i];\n        entries[i] = obj[key];\n        entries[i + len] = key;\n      }\n    }\n\n    this.constructor$(entries);\n    this._isMap = isMap;\n\n    this._init$(undefined, -3);\n  }\n\n  util.inherits(PropertiesPromiseArray, PromiseArray);\n\n  PropertiesPromiseArray.prototype._init = function () {};\n\n  PropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n\n    if (totalResolved >= this._length) {\n      var val;\n\n      if (this._isMap) {\n        val = entriesToMap(this._values);\n      } else {\n        val = {};\n        var keyOffset = this.length();\n\n        for (var i = 0, len = this.length(); i < len; ++i) {\n          val[this._values[i + keyOffset]] = this._values[i];\n        }\n      }\n\n      this._resolve(val);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  PropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n  };\n\n  PropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n  };\n\n  function props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n      return apiRejection(\"cannot await properties of a non-object\\n\\n    See http://goo.gl/MqrFmX\\n\");\n    } else if (castValue instanceof Promise) {\n      ret = castValue._then(Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n      ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n      ret._propagateFrom(castValue, 2);\n    }\n\n    return ret;\n  }\n\n  Promise.prototype.props = function () {\n    return props(this);\n  };\n\n  Promise.props = function (promises) {\n    return props(promises);\n  };\n};","map":{"version":3,"sources":["C:/Users/Carlos/Desktop/Coding/doc-to-html/node_modules/bluebird/js/release/props.js"],"names":["module","exports","Promise","PromiseArray","tryConvertToPromise","apiRejection","util","require","isObject","es5","Es6Map","Map","mapToEntries","index","size","extractEntry","value","key","map","ret","Array","forEach","entriesToMap","entries","length","i","set","PropertiesPromiseArray","obj","isMap","undefined","keys","len","constructor$","_isMap","_init$","inherits","prototype","_init","_promiseFulfilled","_values","totalResolved","_totalResolved","_length","val","keyOffset","_resolve","shouldCopyValues","getActualLength","props","promises","castValue","_then","promise","_propagateFrom"],"mappings":"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","sourcesContent":["\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n"]},"metadata":{},"sourceType":"script"}