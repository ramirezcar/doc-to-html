{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise) {\n  var util = require(\"./util\");\n\n  var async = Promise._async;\n  var tryCatch = util.tryCatch;\n  var errorObj = util.errorObj;\n\n  function spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret = tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n\n    if (ret === errorObj) {\n      async.throwLater(ret.e);\n    }\n  }\n\n  function successAdapter(val, nodeback) {\n    var promise = this;\n\n    var receiver = promise._boundValue();\n\n    var ret = val === undefined ? tryCatch(nodeback).call(receiver, null) : tryCatch(nodeback).call(receiver, null, val);\n\n    if (ret === errorObj) {\n      async.throwLater(ret.e);\n    }\n  }\n\n  function errorAdapter(reason, nodeback) {\n    var promise = this;\n\n    if (!reason) {\n      var newReason = new Error(reason + \"\");\n      newReason.cause = reason;\n      reason = newReason;\n    }\n\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n\n    if (ret === errorObj) {\n      async.throwLater(ret.e);\n    }\n  }\n\n  Promise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback, options) {\n    if (typeof nodeback == \"function\") {\n      var adapter = successAdapter;\n\n      if (options !== undefined && Object(options).spread) {\n        adapter = spreadAdapter;\n      }\n\n      this._then(adapter, errorAdapter, undefined, this, nodeback);\n    }\n\n    return this;\n  };\n};","map":{"version":3,"sources":["C:/Users/Carlos/Desktop/Coding/doc-to-html/node_modules/bluebird/js/release/nodeify.js"],"names":["module","exports","Promise","util","require","async","_async","tryCatch","errorObj","spreadAdapter","val","nodeback","promise","isArray","successAdapter","call","ret","apply","_boundValue","concat","throwLater","e","receiver","undefined","errorAdapter","reason","newReason","Error","cause","prototype","asCallback","nodeify","options","adapter","Object","spread","_then"],"mappings":"AAAA;;AACAA,MAAM,CAACC,OAAP,GAAiB,UAASC,OAAT,EAAkB;AACnC,MAAIC,IAAI,GAAGC,OAAO,CAAC,QAAD,CAAlB;;AACA,MAAIC,KAAK,GAAGH,OAAO,CAACI,MAApB;AACA,MAAIC,QAAQ,GAAGJ,IAAI,CAACI,QAApB;AACA,MAAIC,QAAQ,GAAGL,IAAI,CAACK,QAApB;;AAEA,WAASC,aAAT,CAAuBC,GAAvB,EAA4BC,QAA5B,EAAsC;AAClC,QAAIC,OAAO,GAAG,IAAd;AACA,QAAI,CAACT,IAAI,CAACU,OAAL,CAAaH,GAAb,CAAL,EAAwB,OAAOI,cAAc,CAACC,IAAf,CAAoBH,OAApB,EAA6BF,GAA7B,EAAkCC,QAAlC,CAAP;AACxB,QAAIK,GAAG,GACHT,QAAQ,CAACI,QAAD,CAAR,CAAmBM,KAAnB,CAAyBL,OAAO,CAACM,WAAR,EAAzB,EAAgD,CAAC,IAAD,EAAOC,MAAP,CAAcT,GAAd,CAAhD,CADJ;;AAEA,QAAIM,GAAG,KAAKR,QAAZ,EAAsB;AAClBH,MAAAA,KAAK,CAACe,UAAN,CAAiBJ,GAAG,CAACK,CAArB;AACH;AACJ;;AAED,WAASP,cAAT,CAAwBJ,GAAxB,EAA6BC,QAA7B,EAAuC;AACnC,QAAIC,OAAO,GAAG,IAAd;;AACA,QAAIU,QAAQ,GAAGV,OAAO,CAACM,WAAR,EAAf;;AACA,QAAIF,GAAG,GAAGN,GAAG,KAAKa,SAAR,GACJhB,QAAQ,CAACI,QAAD,CAAR,CAAmBI,IAAnB,CAAwBO,QAAxB,EAAkC,IAAlC,CADI,GAEJf,QAAQ,CAACI,QAAD,CAAR,CAAmBI,IAAnB,CAAwBO,QAAxB,EAAkC,IAAlC,EAAwCZ,GAAxC,CAFN;;AAGA,QAAIM,GAAG,KAAKR,QAAZ,EAAsB;AAClBH,MAAAA,KAAK,CAACe,UAAN,CAAiBJ,GAAG,CAACK,CAArB;AACH;AACJ;;AACD,WAASG,YAAT,CAAsBC,MAAtB,EAA8Bd,QAA9B,EAAwC;AACpC,QAAIC,OAAO,GAAG,IAAd;;AACA,QAAI,CAACa,MAAL,EAAa;AACT,UAAIC,SAAS,GAAG,IAAIC,KAAJ,CAAUF,MAAM,GAAG,EAAnB,CAAhB;AACAC,MAAAA,SAAS,CAACE,KAAV,GAAkBH,MAAlB;AACAA,MAAAA,MAAM,GAAGC,SAAT;AACH;;AACD,QAAIV,GAAG,GAAGT,QAAQ,CAACI,QAAD,CAAR,CAAmBI,IAAnB,CAAwBH,OAAO,CAACM,WAAR,EAAxB,EAA+CO,MAA/C,CAAV;;AACA,QAAIT,GAAG,KAAKR,QAAZ,EAAsB;AAClBH,MAAAA,KAAK,CAACe,UAAN,CAAiBJ,GAAG,CAACK,CAArB;AACH;AACJ;;AAEDnB,EAAAA,OAAO,CAAC2B,SAAR,CAAkBC,UAAlB,GAA+B5B,OAAO,CAAC2B,SAAR,CAAkBE,OAAlB,GAA4B,UAAUpB,QAAV,EACUqB,OADV,EACmB;AAC1E,QAAI,OAAOrB,QAAP,IAAmB,UAAvB,EAAmC;AAC/B,UAAIsB,OAAO,GAAGnB,cAAd;;AACA,UAAIkB,OAAO,KAAKT,SAAZ,IAAyBW,MAAM,CAACF,OAAD,CAAN,CAAgBG,MAA7C,EAAqD;AACjDF,QAAAA,OAAO,GAAGxB,aAAV;AACH;;AACD,WAAK2B,KAAL,CACIH,OADJ,EAEIT,YAFJ,EAGID,SAHJ,EAII,IAJJ,EAKIZ,QALJ;AAOH;;AACD,WAAO,IAAP;AACH,GAhBD;AAiBC,CAxDD","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise) {\nvar util = require(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n"]},"metadata":{},"sourceType":"script"}